(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-41a8f50d"],{"00fb":function(t,e,s){"use strict";s("dd79")},2919:function(t,e,s){},"56c3":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main"},[e("div",{staticClass:"title"},[e("h4",{staticClass:"title-text"},[e("router-link",{attrs:{to:{name:"main"}}},[e("img",{staticClass:"left-arrow",attrs:{src:s("a6eb"),alt:"left-arrow"}})]),t._v("推文 ")],1)]),e("ReplyThread",{attrs:{initialTweet:t.tweet,initialRepliesLength:t.repliesLength,initialReplies:t.replies},on:{"after-click-reply":t.afterClickReply}}),e("ReplyModal",{attrs:{replyModalData:t.tweet},on:{"after-submit-reply":t.fetchReplies}})],1)},a=[],r=(s("d9e2"),function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"tweet thread-container"},[e("div",{staticClass:"tweet-sec"},[e("div",{staticClass:"thread"},[e("div",{staticClass:"d-flex"},[e("div",{staticClass:"avatar-container"},[e("router-link",{attrs:{to:{path:"/users/"+t.oneTweet.UserId}}},[e("img",{staticClass:"avatar",attrs:{src:t._f("emptyImage")(t.oneTweet.avatar)}})])],1),e("div",{staticClass:"thread-info"},[e("router-link",{attrs:{to:{path:"/users/"+t.oneTweet.UserId}}},[e("div",{staticClass:"line1"},[t._v(t._s(t.oneTweet.name))])]),e("router-link",{attrs:{to:{path:"/users/"+t.oneTweet.UserId}}},[e("div",{staticClass:"line4"},[t._v("@"+t._s(t.oneTweet.account))])])],1)]),e("div",{staticClass:"description-sec"},[t._v(" "+t._s(t.oneTweet.description)+" ")]),e("div",{staticClass:"date"},[t._v(t._s(t._f("accurateTime")(t.oneTweet.createdAt)))])])]),e("div",{staticClass:"num-sec d-flex"},[e("div",{staticClass:"replyNum"},[e("span",{staticClass:"number"},[t._v(t._s(t.repliesLength))]),t._v(" 回覆 ")]),e("div",{staticClass:"likedNum"},[e("span",{staticClass:"number"},[t._v(t._s(t.oneTweet.likeCount))]),t._v(" 喜歡次數 ")])]),t._m(0)]),t._l(t.comments,(function(s){return e("div",{key:s.id,staticClass:"thread thread-container"},[e("div",{staticClass:"thread d-flex"},[e("div",{staticClass:"avatar-container"},[e("router-link",{attrs:{to:{path:"/users/"+s.UserId}}},[e("img",{staticClass:"avatar",attrs:{src:s.avatar,alt:"avatar"}})])],1),e("div",{staticClass:"thread-info"},[e("router-link",{attrs:{to:{path:"/users/"+s.UserId}}},[e("div",{staticClass:"line1"},[t._v(" "+t._s(s.name)+" "),e("span",{staticClass:"line1--little"},[t._v("@a"+t._s(s.account)+"‧"+t._s(t._f("fromNow")(s.createdAt)))])])]),e("router-link",{attrs:{to:{path:"/users/"+t.oneTweet.UserId}}},[e("div",{staticClass:"line2"},[t._v(" 回覆"),e("span",{staticClass:"line2--little"},[t._v("@"+t._s(t.oneTweet.account))])])]),e("div",{staticClass:"line3"},[t._v(" "+t._s(s.comment)+" ")])],1)])])}))],2)}),n=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"icon-sec"},[e("img",{attrs:{src:s("6918"),alt:"reply-icon"}}),e("img",{staticClass:"heart-icon",attrs:{src:s("c908"),alt:"heart-icon"}})])}],l=s("2708"),o=s("2fa3"),c=s("6783"),A={name:"ReplyThread",mixins:[l["f"],l["a"],l["d"]],props:{initialTweet:{type:Object,required:!0},initialReplies:{type:Array,required:!0},initialRepliesLength:{type:Number,require:!0}},data(){return{oneTweet:{},comments:[],repliesLength:0}},watch:{initialReplies(t){this.comments=[...t]},initialTweet(t){this.oneTweet={...this.oneTweet,...t}},initialRepliesLength(t){this.repliesLength=t}},created(){this.fetchReplyList()},methods:{fetchReplyList(){this.oneTweet=this.initialTweet,this.comments=this.initialReplies,this.repliesLength=this.initialRepliesLength},isClickedTweet(){this.oneTweet=this.initialTweet,this.$emit("after-click-reply",this.oneTweet)},async addLiked(t){try{const{data:e}=await c["a"].tweets.addLiked({tweetId:t});if("error"===e.status)throw new Error(e.message);this.oneTweet={...this.oneTweet,isLike:!this.oneTweet.isLike,likeCount:this.oneTweet.likeCount+1}}catch(e){console.error(e.message),o["a"].fire({icon:"error",title:"無法加入喜歡，請稍後再試"})}},async deleteLiked(t){try{const{data:e}=await c["a"].tweets.deleteLiked({tweetId:t});if("error"===e.status)throw new Error(e.message);this.oneTweet={...this.oneTweet,isLike:!this.oneTweet.isLike,likeCount:this.oneTweet.likeCount-1}}catch(e){console.error(e.message),o["a"].fire({icon:"error",title:"無法移除喜歡，請稍後再試"})}}}},d=A,h=(s("00fb"),s("2877")),w=Object(h["a"])(d,r,n,!1,null,"5d9905d0",null),p=w.exports,u=s("2797"),C=s("2f62"),f={name:"ReplyList",components:{ReplyThread:p,ReplyModal:u["a"]},computed:{...Object(C["b"])(["currentUser"])},data(){return{tweet:{},replies:[],repliesLength:0}},beforeRouteUpdate(t,e,s){const{id:i}=t.params;this.fetchTweet(i),this.fetchReplies(i),s()},created(){const{id:t}=this.$route.params;this.fetchTweet(t),this.fetchReplies(t)},methods:{async fetchTweet(t){try{const e=await c["a"].tweets.getOneTweet({tweetId:t});if("OK"!==e.statusText)throw new Error;this.tweet=e.data}catch(e){console.error(e.message),o["a"].fire({icon:"error",title:"無法取得推文資料，請稍後再試"})}},async fetchReplies(t){try{const e=await c["a"].replies.getReplies({tweetId:t});if("OK"!==e.statusText)throw new Error;this.replies=[...e.data],this.repliesLength=this.replies.length}catch(e){console.error(e.message),o["a"].fire({icon:"error",title:"無法取得留言資料，請稍後再試"})}},afterClickReply(t){this.$emit("after-click-reply",t);const{id:e,avatar:s,name:i,account:a,createdAt:r,description:n}=t;this.tweet={id:e,avatar:s,name:i,account:a,createdAt:r,description:n}}}},T=f,m=(s("5896"),Object(h["a"])(T,i,a,!1,null,"14d1f404",null));e["default"]=m.exports},5896:function(t,e,s){"use strict";s("2919")},6918:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgBvVZdbtpAEJ5Z23mpULlBOQI3CDlBkxOUvEUJVYzapFGVFBOoFBGkuBJEvNGcoHCCcoNyg/oAfaCvYHs6swaUCJvWhuaTYMf27n47s/MH8MzApA+2bednZq6MCnYJoIgEBVgLGgOiFxIM728bX1MRVs4+nQKRw1/zkAF8QI9/9TjiFcKTD1d9DKEcraQRAQ4D3xj0XMeDNTg+c4oGBMUQoba0BqLTaV3XEwnfntfuiEKbxQmP9W77swsZUHl/ydbBWhzpklCbEUgIJiEYe/e3zhg2gGisIPgRsdBBp9UciKjk78i+KBCQaAYhQHVTMoHsQQRV/UDYFydcElqWVWJVmXS9h6VFt91gi9GIRfb4F+UlIRGeyohEme5sHRDCBz2ieq0JbdvJM1NRHjrt5gi2DGO2M5iLmkNNYVqIjkIb31scXNeZEILHYv7kXfOVUqbKFNxZoXzT9ERAwv9GzIlE720Fv36r3g1nEOJAZy9duO42cWx/LEqKFLO6rjtR0RGi+1u47jaBplGSURGM9KjfEkSpB9XpNrXUeyHokCOihyVhFA40kuAPrNwdbAnBzsua7CmlaxFyavHRN8xDsTPfZblyfvVN0h1sgMr5ZW1eCGTvg8X7J9Xi6MIpGGHwXcqL1DSFMJhNZ1967o0HKSBknD8dkZm0+rjqrNRDTer7DiK+Wb5kL+aZ2rHYCsNuqxGbAsUqpmX1WSxF67DeaV87j+ckthhc00piXlC4+6S9YG/rtBt7sKrVPoTYn3cJE1btIC5VmkmE88l6geTbmTkrcwJecSjxRN/K9fkg+/r43CVwMjnU8R0DBf8AyYcIOI7TyjdzP1nch6hLqPJB95LIBIkarkOyVg3vb2vTEyIU51rpu0rb+2TRMJ9Wq0yEoR9OlGWIuFFHlwoSKrpD2AB/AFbYPbGYXea3AAAAAElFTkSuQmCC"},a6eb:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB5SURBVHgB7dfBCYAwEETR0Qoswc6SzreEpAPNQg5R4kGFnct8GMnNBwoi8L7UVtqsnyn5jY9hBYTuCJ8huBnClxGYEEIIIcRXRNTMDUs/7OBW13bZwK/6JYP7aAqGd/EJk0AoQxhhhBEmHkP5r5lhDMRyB1y+EX87AdxCwzt7prpuAAAAAElFTkSuQmCC"},c908:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAnCAYAAAB5XdqFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATMSURBVHgB1VjPTxtHFH6zP2grhda59Vbn1ltNqtCKoMT01FvcY0+Jbyi4woiAogrCGtOKYlQ2ClBuhFtv0GNPrNOGolAp7l8QH9ubpfQQddf7Om/t3Z1dr+1dE+rmk0Az49k337z3Zua9B/CGgMWZVCwWU5ZyKYPAMgwwRWM2Y3XbNI09fb0OCTBd1NKq+k8WUUoLw8b25poBgxJ1CI68Ows2FvnMVJdphg1wsFspP+4lq3BvKQuMrfBmNnICQoMxODJNsxS1+a5EZxYf3GY26j0IhgU9ls2Xc7quN8Rx2qz51ugWs+FOHDkIUOd/pfDGI4kWFpdWAJkWlIA1PrtKO299yT7i/3PhRZqmOeVqZLp4Py2r6jFfJB2SZfD/1TaDFDJ2i2FoDmPa9sZqqSvRwsKDWS5J92QyqHPN5qN8aPq+lpYtS2OM3RbJqubLMWqb6ujzIEl8qJiKputao2Nd7hoosX2RMF97bmejrHcQJQ0oqvpCGDpSTDkfJVjEzL3lIvevLfC3f4Tkc+CbG9Ge29n8Ru8lp1jUUpba3AffUg3LNMfIQpI4kZtpRdhNPQ5Jws5mWecHKu8NIOSSkiTQWrQm32mtPZTiiiPivkbD2rRk+creulaHBCjML+kgsdnAILLS9uaqBglALqU0m75lEac8jYrapBOclCRBaSoaWcKTz9tJSRJobUQ8AJ9QziPKkGW8BcRJCUCmo4Pny4ESDAhSltC56fsoQ4+oYv1dgwFBtwO5jWXKV/o9Ar2gWIrPAelFhA6faGxXypfhf4CZxeUX7nUlhX/kzPue8mHAISoeHAy/IkOEePl7GhVP68z82gcwZNwtfp0Rug3h1GPda8uvxmDIkGQhDESoSUKnKrSzMGTwd/+W0KuKh8nwm36QMURkhbbhEXWiI/ROfMoJdIcEWtuNulqv25oRup7woddsReNDAQpho4QtSweI8tdAjHCyw9AqBUdi5GXKsvMMB4i2Qjon+m5hCFrtFhx1vEyWrOSF7n+q1a8Wlu9EaZPQQdTZge37KveXfUrQ4IJBa/Dgu2uoKUV9RHGlewPQ6WuOjF64CzRH3lsRT7qoTYIc9dHpqfHqk+s3/wI/d/n02mS2fva0+gdcAMjkCLju9nm8MffDxqohzulZgCgsLB+CkGjZ0JzarXw7cKwaBScFUtTnbv2ATP6oUs6H50m9hFCiJQQrKQbyIQmG10iS8n6XZJTJXfStPd1d0DISNn1h7bw9XBFJCqeCEsz7GzwzGOuWq0n9BO5WtJrNCwFunwRb6qXj89wETk2LywgUJxjmeyWUMsTA2cmT2vjEDcYfgGxb6vu2PPL51fGJn38//TWRZl2SXIYfb1JKXSnv9fouFlHCs5MnRpgsk+Xcx+MTP8UlSz6J6ju/cSEfBkjGSKljE40iy+iAcbLXrk9Wz05++bPXt05EJMuHAXMnKE4kItqVLEjT45NZePa0Wo0kSYU3Bj/SXI+jU+ZZW4+5bLyKc+Ti80s5lNlWoPrGbwSe0niVvy7F2wZn+UW/CvNrI0pwyo5287ijtgnYfhRYJjiMhqUo+UHKReci6oJrTusTEja4qUtxKnrdkNhHo0B+e/XGZwfMti/zom6aD73d/onM/B0PyL989H3ZgHPgX5UtGWLrJ4H6AAAAAElFTkSuQmCC"},dd79:function(t,e,s){}}]);
//# sourceMappingURL=chunk-41a8f50d.e0ecb472.js.map