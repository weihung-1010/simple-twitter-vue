{"version":3,"sources":["webpack:///./src/components/ReplyThread.vue?8d28","webpack:///./src/views/ReplyList.vue","webpack:///./src/components/ReplyThread.vue","webpack:///src/components/ReplyThread.vue","webpack:///./src/components/ReplyThread.vue?07f9","webpack:///./src/components/ReplyThread.vue?fdbf","webpack:///src/views/ReplyList.vue","webpack:///./src/views/ReplyList.vue?3092","webpack:///./src/views/ReplyList.vue?0308","webpack:///./src/views/ReplyList.vue?2c30","webpack:///./src/assets/images/tweetReply@2x.png","webpack:///./src/assets/images/leftArrow@2x.png","webpack:///./src/assets/images/tweetLike@2x.png"],"names":["render","_vm","this","_c","_self","staticClass","attrs","name","require","_v","tweet","repliesLength","replies","on","afterClickReply","fetchReplies","staticRenderFns","path","oneTweet","UserId","_f","avatar","_s","account","description","createdAt","likeCount","_m","_l","comments","comment","key","id","mixins","props","initialTweet","type","required","initialReplies","initialRepliesLength","data","watch","created","methods","fetchReplyList","isClickedTweet","tweetId","isLike","console","Toast","icon","title","component","components","ReplyThread","ReplyModal","computed","beforeRouteUpdate","next","module","exports"],"mappings":"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","file":"js/chunk-41a8f50d.e0ecb472.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyThread.vue?vue&type=style&index=0&id=5d9905d0&prod&scoped=true&lang=scss&\"","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"main\"},[_c('div',{staticClass:\"title\"},[_c('h4',{staticClass:\"title-text\"},[_c('router-link',{attrs:{\"to\":{ name: 'main' }}},[_c('img',{staticClass:\"left-arrow\",attrs:{\"src\":require(\"@/assets/images/leftArrow@2x.png\"),\"alt\":\"left-arrow\"}})]),_vm._v(\"推文 \")],1)]),_c('ReplyThread',{attrs:{\"initialTweet\":_vm.tweet,\"initialRepliesLength\":_vm.repliesLength,\"initialReplies\":_vm.replies},on:{\"after-click-reply\":_vm.afterClickReply}}),_c('ReplyModal',{attrs:{\"replyModalData\":_vm.tweet},on:{\"after-submit-reply\":_vm.fetchReplies}})],1)\n}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function render(){var _vm=this,_c=_vm._self._c;return _c('div',[_c('div',{staticClass:\"tweet thread-container\"},[_c('div',{staticClass:\"tweet-sec\"},[_c('div',{staticClass:\"thread\"},[_c('div',{staticClass:\"d-flex\"},[_c('div',{staticClass:\"avatar-container\"},[_c('router-link',{attrs:{\"to\":{ path: `/users/${_vm.oneTweet.UserId}` }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm._f(\"emptyImage\")(_vm.oneTweet.avatar)}})])],1),_c('div',{staticClass:\"thread-info\"},[_c('router-link',{attrs:{\"to\":{ path: `/users/${_vm.oneTweet.UserId}` }}},[_c('div',{staticClass:\"line1\"},[_vm._v(_vm._s(_vm.oneTweet.name))])]),_c('router-link',{attrs:{\"to\":{ path: `/users/${_vm.oneTweet.UserId}` }}},[_c('div',{staticClass:\"line4\"},[_vm._v(\"@\"+_vm._s(_vm.oneTweet.account))])])],1)]),_c('div',{staticClass:\"description-sec\"},[_vm._v(\" \"+_vm._s(_vm.oneTweet.description)+\" \")]),_c('div',{staticClass:\"date\"},[_vm._v(_vm._s(_vm._f(\"accurateTime\")(_vm.oneTweet.createdAt)))])])]),_c('div',{staticClass:\"num-sec d-flex\"},[_c('div',{staticClass:\"replyNum\"},[_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.repliesLength))]),_vm._v(\" 回覆 \")]),_c('div',{staticClass:\"likedNum\"},[_c('span',{staticClass:\"number\"},[_vm._v(_vm._s(_vm.oneTweet.likeCount))]),_vm._v(\" 喜歡次數 \")])]),_vm._m(0)]),_vm._l((_vm.comments),function(comment){return _c('div',{key:comment.id,staticClass:\"thread thread-container\"},[_c('div',{staticClass:\"thread d-flex\"},[_c('div',{staticClass:\"avatar-container\"},[_c('router-link',{attrs:{\"to\":{ path: `/users/${comment.UserId}` }}},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":comment.avatar,\"alt\":\"avatar\"}})])],1),_c('div',{staticClass:\"thread-info\"},[_c('router-link',{attrs:{\"to\":{ path: `/users/${comment.UserId}` }}},[_c('div',{staticClass:\"line1\"},[_vm._v(\" \"+_vm._s(comment.name)+\" \"),_c('span',{staticClass:\"line1--little\"},[_vm._v(\"@a\"+_vm._s(comment.account)+\"‧\"+_vm._s(_vm._f(\"fromNow\")(comment.createdAt)))])])]),_c('router-link',{attrs:{\"to\":{ path: `/users/${_vm.oneTweet.UserId}` }}},[_c('div',{staticClass:\"line2\"},[_vm._v(\" 回覆\"),_c('span',{staticClass:\"line2--little\"},[_vm._v(\"@\"+_vm._s(_vm.oneTweet.account))])])]),_c('div',{staticClass:\"line3\"},[_vm._v(\" \"+_vm._s(comment.comment)+\" \")])],1)])])})],2)\n}\nvar staticRenderFns = [function (){var _vm=this,_c=_vm._self._c;return _c('div',{staticClass:\"icon-sec\"},[_c('img',{attrs:{\"src\":require(\"@/assets/images/tweetReply@2x.png\"),\"alt\":\"reply-icon\"}}),_c('img',{staticClass:\"heart-icon\",attrs:{\"src\":require(\"@/assets/images/tweetLike@2x.png\"),\"alt\":\"heart-icon\"}})])\n}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <!-- 回覆目標 tweet -->\n    <div class=\"tweet thread-container\">\n      <div class=\"tweet-sec\">\n        <div class=\"thread\">\n          <div class=\"d-flex\">\n            <div class=\"avatar-container\">\n              <router-link :to=\"{ path: `/users/${oneTweet.UserId}` }\">\n                <img class=\"avatar\" :src=\"oneTweet.avatar | emptyImage\" />\n              </router-link>\n            </div>\n\n            <div class=\"thread-info\">\n              <router-link :to=\"{ path: `/users/${oneTweet.UserId}` }\">\n                <div class=\"line1\">{{ oneTweet.name }}</div>\n              </router-link>\n\n              <router-link :to=\"{ path: `/users/${oneTweet.UserId}` }\">\n                <div class=\"line4\">@{{ oneTweet.account }}</div>\n              </router-link>\n            </div>\n          </div>\n\n          <div class=\"description-sec\">\n            {{ oneTweet.description }}\n          </div>\n          <div class=\"date\">{{ oneTweet.createdAt | accurateTime }}</div>\n        </div>\n      </div>\n\n      <div class=\"num-sec d-flex\">\n        <div class=\"replyNum\">\n          <span class=\"number\">{{ repliesLength }}</span> 回覆\n        </div>\n        <div class=\"likedNum\">\n          <span class=\"number\">{{ oneTweet.likeCount }}</span> 喜歡次數\n        </div>\n      </div>\n      <div class=\"icon-sec\">\n        <img src=\"~@/assets/images/tweetReply@2x.png\" alt=\"reply-icon\" />\n        <img\n          src=\"~@/assets/images/tweetLike@2x.png\"\n          alt=\"heart-icon\"\n          class=\"heart-icon\"\n        />\n      </div>\n    </div>\n\n    <!-- 回覆串 thread -->\n    <div\n      class=\"thread thread-container\"\n      v-for=\"comment in comments\"\n      :key=\"comment.id\"\n    >\n      <div class=\"thread d-flex\">\n        <div class=\"avatar-container\">\n          <router-link :to=\"{ path: `/users/${comment.UserId}` }\">\n            <img class=\"avatar\" :src=\"comment.avatar\" alt=\"avatar\" />\n          </router-link>\n        </div>\n\n        <div class=\"thread-info\">\n          <router-link :to=\"{ path: `/users/${comment.UserId}` }\">\n            <div class=\"line1\">\n              {{ comment.name }}\n\n              <span class=\"line1--little\"\n                >@a{{ comment.account }}‧{{ comment.createdAt | fromNow }}</span\n              >\n            </div>\n          </router-link>\n\n          <router-link :to=\"{ path: `/users/${oneTweet.UserId}` }\">\n            <div class=\"line2\">\n              回覆<span class=\"line2--little\">@{{ oneTweet.account }}</span>\n            </div>\n          </router-link>\n\n          <div class=\"line3\">\n            {{ comment.comment }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n\n\n<script>\nimport {\n  fromNowFilter,\n  accurateTimeFilter,\n  emptyImageFilter,\n} from \"./../utils/mixins\";\nimport { Toast } from \"./../utils/helpers\";\nimport tweetsAPI from \"./../apis/tweets\";\n\nexport default {\n  name: \"ReplyThread\",\n  mixins: [fromNowFilter, accurateTimeFilter, emptyImageFilter],\n  props: {\n    initialTweet: {\n      type: Object,\n      required: true,\n    },\n    initialReplies: {\n      type: Array,\n      required: true,\n    },\n    initialRepliesLength: {\n      type: Number,\n      require: true,\n    },\n  },\n  data() {\n    return {\n      oneTweet: {},\n      comments: [],\n      repliesLength: 0,\n    };\n  },\n  watch: {\n    initialReplies(newValue) {\n      this.comments = [...newValue];\n    },\n    initialTweet(newValue) {\n      this.oneTweet = {\n        ...this.oneTweet,\n        ...newValue,\n      };\n    },\n    // 當新增評論時，及時更新評論數使用\n    initialRepliesLength(newValue) {\n      this.repliesLength = newValue;\n    },\n  },\n\n  created() {\n    this.fetchReplyList();\n  },\n\n  methods: {\n    fetchReplyList() {\n      this.oneTweet = this.initialTweet;\n      this.comments = this.initialReplies;\n      this.repliesLength = this.initialRepliesLength;\n    },\n\n    isClickedTweet() {\n      // 被點擊的那則留言的資料，顯示 modal 使用\n      this.oneTweet = this.initialTweet;\n      this.$emit(\"after-click-reply\", this.oneTweet);\n    },\n\n    // 當點擊喜歡則加上愛心並加愛心數\n    async addLiked(tweetId) {\n      try {\n        const { data } = await tweetsAPI.tweets.addLiked({ tweetId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.oneTweet = {\n          ...this.oneTweet,\n          isLike: !this.oneTweet.isLike, //將愛心改成紅心\n          likeCount: this.oneTweet.likeCount + 1, //愛心數加一\n        };\n      } catch (error) {\n        console.error(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法加入喜歡，請稍後再試\",\n        });\n      }\n    },\n\n    // 點擊不喜歡則移除愛心並扣愛心數\n    async deleteLiked(tweetId) {\n      try {\n        const { data } = await tweetsAPI.tweets.deleteLiked({ tweetId });\n        if (data.status === \"error\") {\n          throw new Error(data.message);\n        }\n        this.oneTweet = {\n          ...this.oneTweet,\n          isLike: !this.oneTweet.isLike, //將愛心改成空心\n          likeCount: this.oneTweet.likeCount - 1, //愛心數減一\n        };\n      } catch (error) {\n        console.error(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法移除喜歡，請稍後再試\",\n        });\n      }\n    },\n  },\n};\n</script>\n\n\n\n\n<style scoped lang=\"scss\">\n@import \"../assets/scss/replyThread.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyThread.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyThread.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyThread.vue?vue&type=template&id=5d9905d0&scoped=true&\"\nimport script from \"./ReplyThread.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyThread.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyThread.vue?vue&type=style&index=0&id=5d9905d0&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5d9905d0\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"main\">\n    <div class=\"title\">\n      <h4 class=\"title-text\">\n        <router-link :to=\"{ name: 'main' }\">\n          <img\n            class=\"left-arrow\"\n            src=\"~@/assets/images/leftArrow@2x.png\"\n            alt=\"left-arrow\"\n          /> </router-link\n        >推文\n      </h4>\n    </div>\n\n    <!-- 貼文回覆串 component -->\n    <ReplyThread\n      :initialTweet=\"tweet\"\n      :initialRepliesLength=\"repliesLength\"\n      :initialReplies=\"replies\"\n      @after-click-reply=\"afterClickReply\"\n    />\n\n    <!-- 回覆 modal -->\n    <ReplyModal :replyModalData=\"tweet\" @after-submit-reply=\"fetchReplies\" />\n  </div>\n</template>\n\n\n<script>\nimport ReplyThread from \"../components/ReplyThread.vue\";\nimport ReplyModal from \"../components/ReplyModal.vue\";\nimport { mapState } from \"vuex\";\nimport { Toast } from \"./../utils/helpers\";\nimport tweetsAPI from \"./../apis/tweets\";\n\nexport default {\n  name: \"ReplyList\",\n  components: { ReplyThread, ReplyModal },\n  computed: {\n    ...mapState([\"currentUser\"]),\n  },\n  data() {\n    return {\n      tweet: {}, //要回覆的貼文\n      replies: [], // 回覆串\n      repliesLength: 0, // 留言數\n    };\n  },\n  beforeRouteUpdate(to, from, next) {\n    // 監聽路由（path: 'replylist/:id'）\n    const { id } = to.params;\n    this.fetchTweet(id);\n    this.fetchReplies(id);\n    next();\n  },\n  created() {\n    const { id } = this.$route.params;\n    this.fetchTweet(id);\n    this.fetchReplies(id);\n  },\n  methods: {\n    // 取得特定的推文資料\n    async fetchTweet(id) {\n      try {\n        const response = await tweetsAPI.tweets.getOneTweet({\n          tweetId: id,\n        });\n        if (response.statusText !== \"OK\") {\n          throw new Error();\n        }\n        this.tweet = response.data;\n      } catch (error) {\n        console.error(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得推文資料，請稍後再試\",\n        });\n      }\n    },\n\n    // 取得特定推文的回覆串\n    async fetchReplies(id) {\n      try {\n        const response = await tweetsAPI.replies.getReplies({\n          tweetId: id,\n        });\n\n        if (response.statusText !== \"OK\") {\n          throw new Error();\n        }\n        this.replies = [...response.data];\n        this.repliesLength = this.replies.length;\n      } catch (error) {\n        console.error(error.message);\n        Toast.fire({\n          icon: \"error\",\n          title: \"無法取得留言資料，請稍後再試\",\n        });\n      }\n    },\n\n    // 點擊留言圖示後，會觸發父元件 Main.vue 動作\n    // 父元件 Main.vue 會將該則推文的資料(payload)傳給 replyModal 來顯示\n    afterClickReply(payload) {\n      this.$emit(\"after-click-reply\", payload);\n      const { id, avatar, name, account, createdAt, description } = payload;\n      // 再將推文資料指派給 this.tweet，連動子元件去做即時變化\n      this.tweet = {\n        id, // tweetID\n        avatar,\n        name,\n        account,\n        createdAt,\n        description,\n      };\n    },\n  },\n};\n</script>\n\n\n<style scoped lang=\"scss\">\n@import \"../assets/scss/tweetsBoard.scss\";\n</style>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--13-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ReplyList.vue?vue&type=template&id=14d1f404&scoped=true&\"\nimport script from \"./ReplyList.vue?vue&type=script&lang=js&\"\nexport * from \"./ReplyList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./ReplyList.vue?vue&type=style&index=0&id=14d1f404&prod&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"14d1f404\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ReplyList.vue?vue&type=style&index=0&id=14d1f404&prod&scoped=true&lang=scss&\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAYAAAByDd+UAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAK2SURBVHgBvVZdbtpAEJ5Z23mpULlBOQI3CDlBkxOUvEUJVYzapFGVFBOoFBGkuBJEvNGcoHCCcoNyg/oAfaCvYHs6swaUCJvWhuaTYMf27n47s/MH8MzApA+2bednZq6MCnYJoIgEBVgLGgOiFxIM728bX1MRVs4+nQKRw1/zkAF8QI9/9TjiFcKTD1d9DKEcraQRAQ4D3xj0XMeDNTg+c4oGBMUQoba0BqLTaV3XEwnfntfuiEKbxQmP9W77swsZUHl/ydbBWhzpklCbEUgIJiEYe/e3zhg2gGisIPgRsdBBp9UciKjk78i+KBCQaAYhQHVTMoHsQQRV/UDYFydcElqWVWJVmXS9h6VFt91gi9GIRfb4F+UlIRGeyohEme5sHRDCBz2ieq0JbdvJM1NRHjrt5gi2DGO2M5iLmkNNYVqIjkIb31scXNeZEILHYv7kXfOVUqbKFNxZoXzT9ERAwv9GzIlE720Fv36r3g1nEOJAZy9duO42cWx/LEqKFLO6rjtR0RGi+1u47jaBplGSURGM9KjfEkSpB9XpNrXUeyHokCOihyVhFA40kuAPrNwdbAnBzsua7CmlaxFyavHRN8xDsTPfZblyfvVN0h1sgMr5ZW1eCGTvg8X7J9Xi6MIpGGHwXcqL1DSFMJhNZ1967o0HKSBknD8dkZm0+rjqrNRDTer7DiK+Wb5kL+aZ2rHYCsNuqxGbAsUqpmX1WSxF67DeaV87j+ckthhc00piXlC4+6S9YG/rtBt7sKrVPoTYn3cJE1btIC5VmkmE88l6geTbmTkrcwJecSjxRN/K9fkg+/r43CVwMjnU8R0DBf8AyYcIOI7TyjdzP1nch6hLqPJB95LIBIkarkOyVg3vb2vTEyIU51rpu0rb+2TRMJ9Wq0yEoR9OlGWIuFFHlwoSKrpD2AB/AFbYPbGYXea3AAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACIAAAAcCAYAAAAEN20fAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAB5SURBVHgB7dfBCYAwEETR0Qoswc6SzreEpAPNQg5R4kGFnct8GMnNBwoi8L7UVtqsnyn5jY9hBYTuCJ8huBnClxGYEEIIIcRXRNTMDUs/7OBW13bZwK/6JYP7aAqGd/EJk0AoQxhhhBEmHkP5r5lhDMRyB1y+EX87AdxCwzt7prpuAAAAAElFTkSuQmCC\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAnCAYAAAB5XdqFAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAATMSURBVHgB1VjPTxtHFH6zP2grhda59Vbn1ltNqtCKoMT01FvcY0+Jbyi4woiAogrCGtOKYlQ2ClBuhFtv0GNPrNOGolAp7l8QH9ubpfQQddf7Om/t3Z1dr+1dE+rmk0Az49k337z3Zua9B/CGgMWZVCwWU5ZyKYPAMgwwRWM2Y3XbNI09fb0OCTBd1NKq+k8WUUoLw8b25poBgxJ1CI68Ows2FvnMVJdphg1wsFspP+4lq3BvKQuMrfBmNnICQoMxODJNsxS1+a5EZxYf3GY26j0IhgU9ls2Xc7quN8Rx2qz51ugWs+FOHDkIUOd/pfDGI4kWFpdWAJkWlIA1PrtKO299yT7i/3PhRZqmOeVqZLp4Py2r6jFfJB2SZfD/1TaDFDJ2i2FoDmPa9sZqqSvRwsKDWS5J92QyqHPN5qN8aPq+lpYtS2OM3RbJqubLMWqb6ujzIEl8qJiKputao2Nd7hoosX2RMF97bmejrHcQJQ0oqvpCGDpSTDkfJVjEzL3lIvevLfC3f4Tkc+CbG9Ge29n8Ru8lp1jUUpba3AffUg3LNMfIQpI4kZtpRdhNPQ5Jws5mWecHKu8NIOSSkiTQWrQm32mtPZTiiiPivkbD2rRk+creulaHBCjML+kgsdnAILLS9uaqBglALqU0m75lEac8jYrapBOclCRBaSoaWcKTz9tJSRJobUQ8AJ9QziPKkGW8BcRJCUCmo4Pny4ESDAhSltC56fsoQ4+oYv1dgwFBtwO5jWXKV/o9Ar2gWIrPAelFhA6faGxXypfhf4CZxeUX7nUlhX/kzPue8mHAISoeHAy/IkOEePl7GhVP68z82gcwZNwtfp0Rug3h1GPda8uvxmDIkGQhDESoSUKnKrSzMGTwd/+W0KuKh8nwm36QMURkhbbhEXWiI/ROfMoJdIcEWtuNulqv25oRup7woddsReNDAQpho4QtSweI8tdAjHCyw9AqBUdi5GXKsvMMB4i2Qjon+m5hCFrtFhx1vEyWrOSF7n+q1a8Wlu9EaZPQQdTZge37KveXfUrQ4IJBa/Dgu2uoKUV9RHGlewPQ6WuOjF64CzRH3lsRT7qoTYIc9dHpqfHqk+s3/wI/d/n02mS2fva0+gdcAMjkCLju9nm8MffDxqohzulZgCgsLB+CkGjZ0JzarXw7cKwaBScFUtTnbv2ATP6oUs6H50m9hFCiJQQrKQbyIQmG10iS8n6XZJTJXfStPd1d0DISNn1h7bw9XBFJCqeCEsz7GzwzGOuWq0n9BO5WtJrNCwFunwRb6qXj89wETk2LywgUJxjmeyWUMsTA2cmT2vjEDcYfgGxb6vu2PPL51fGJn38//TWRZl2SXIYfb1JKXSnv9fouFlHCs5MnRpgsk+Xcx+MTP8UlSz6J6ju/cSEfBkjGSKljE40iy+iAcbLXrk9Wz05++bPXt05EJMuHAXMnKE4kItqVLEjT45NZePa0Wo0kSYU3Bj/SXI+jU+ZZW4+5bLyKc+Ti80s5lNlWoPrGbwSe0niVvy7F2wZn+UW/CvNrI0pwyo5287ijtgnYfhRYJjiMhqUo+UHKReci6oJrTusTEja4qUtxKnrdkNhHo0B+e/XGZwfMti/zom6aD73d/onM/B0PyL989H3ZgHPgX5UtGWLrJ4H6AAAAAElFTkSuQmCC\""],"sourceRoot":""}